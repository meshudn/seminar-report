<!DOCTYPE html>
<html>
<head>
  <title>Seminar Web Engineering im Winter semester 2020 - Kubernetes-111</title>
  <link rel="stylesheet" type="text/css" href="main.css"/>
  <link href='https://fonts.googleapis.com/css?family=Source+Serif+Pro:400,600,700' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Inconsolata:400,700' rel='stylesheet' type='text/css'>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</head>
<body>
    <header>
        <h2>Seminar Web Engineering im Winter semester 2020</h2>
		<h1>Kubernetes-111</h1>
        <h2 class="author">Meshu Deb Nath, Diwakar Dangal</h2>
		<h3 class="affiliation">
			Professur Verteilte und Selbstorganisierende Rechnersysteme<br/>
			Technische Universität Chemnitz<br/>
			Chemnitz, Deutschland
		</h3>
    </header>
    <section>
    	<h2>1. Introduction</h2>
        <p> 
    		In den letzten Jahren hat die Beliebtheit und damit auch das Angebot von Cloud-Diensten stark zugenommen. Die Gründe dafür sind vielseitig, so wirken die
        steigende Tendenz zur Nutzung mehrerer mobiler Endgeräte, ebenso wie die Mobilität des Arbeitsortes sich positiv auf diesen Trend aus. Zusätzlich
        vergrößert sich im digitalen Zeitalter der für Medien beanspruchte Speicherplatz rapide.
    	</p>
    	<p>
    		Doch gerade in den letzten Jahren steigt zeitgleich auch das Bewusstsein für Datenschutz und Privatsphäre im Netz. Dies stellt die Anbieter von Cloud Diensten
        zum einen vor die Herausforderung eine ansprechende Menge an Speicherplatz günstig bereitzustellen und gleichzeitig die Daten der Kunden ausreichend vor unbefugtem
        Zugriff zu schützen. Dazu zählen natürlich Maßnahmen für die sichere Übertragung von Daten, sowie die Verschlüsselung bei Ablage auf den Servern. Aber auch
        die Authentifizierung des Nutzers spielt eine wichtige Rolle, vor allem weil hier der Anwender selbst aktiv werden kann.
    	</p>
    	<p>
    		Zwei solcher Anbieter sind Dropbox und GoogleDrive. Im Folgenden werden diese beiden hinsichtlich ihres Angebots und Sicherheitsaspekten analysiert. Als
        zusätzliche Verschlüsselungssoftware wird Boxcryptor und als alternative Lösung BittorrentSync vorgestellt. Zum Schluss wird auf die Option sich eine eigene Cloud mittels ownCloud zu bauen eingegangen, sowie 
    	das Ergebnis dessen präsentiert.
    	</p>
	</section>
    <section>
    	<h2> 2. Blah Blah Introduction</h2>
    	<h3> 2.1. Allgemeiner Überblick </h3>
    		
    	<p>
        Die Attraktivität, Daten in der Cloud zu speichern, ergibt sich in der Regel aus mindestens einer der folgenden Funktionsmöglichkeiten. Grundlegende Idee ist
        die Möglichkeit eine Kopie einer lokal gespeicherten Datei zu erstellen und durch Speichern in der Cloud diese Datei von überall abrufen zu können. Wenn
        dieser Zugriff nun von mehreren Geräten aus geschieht, ergibt sich daraus die Notwendigkeit der Synchronisation von solchen Daten, sodass diese immer auf dem
        aktuellsten Stand sind. Des Weiteren ist das Teilen von Daten und die variable Rechtevergabe eine wichtige Cloud-Funktion. Auch hier wird wieder die Synchronisation
        zu einem wichtigen Thema, vor allem wenn es um Team- oder Projektarbeiten geht. Zu guter Letzt wird gerne auf die Option des Backups zurückgegriffen. Hier werden
        über einen längeren Zeitraum immer wieder Kopien von Dateien erstellt, welche dann die verschiedenen Versionen innerhalb eines Entwicklungsprozesses
        darstellen und die Möglichkeit zur Wiederherstellung älterer Versionen bieten <a href="#r3">[3]</a>.
    	</p>
    	<p>
        Einer der bekanntesten Anbieter und mit über 300 Millionen registrierten Nutzern <a href="#r7">[7]</a> 
    	ist Dropbox. Als dieser Dienst 2008 online ging, stand zuerst die einfache Verwaltung von Daten unabhängig vom persönlichen Standort im Vordergrund <a href="#r7">[7]</a>. Mittlerweile wurden weitere
        Funktionen hinzugefügt. Als kostenloser Speicher stehen 2GB zur Verfügung, mit der zusätzlichen Option zur Erweiterung auf bis zu 16GB. Außerdem beinhaltet das
        Leistungsspektrum die Möglichkeit Dateien und Ordner zu teilen, Offline zu bearbeiten und ältere Versionen wiederherzustellen. Es gibt mehrere
        Wege, diese Optionen zu nutzen. Angefangen über ein leicht bedienbares Webinterface im Browser gibt es außerdem Clients für Windows, MacOS und
        Linux. Für Smartphone und Tablet stehen außerdem Apps für die Betriebssysteme Blackberry, iOs und Android zur Verfügung <a href="#r7">[7]</a>.
    	</p>
    	<p>
        Als einer der Marktführer bei Internetdienstleistungen bietet Google.Inc ebenfalls einen Cloud Service an. Dieser entwickelte sich aus der Anwendung
        GoogleDocs und ging 2012 online. Laut eigenen Angaben benutzen über 190 Millionen Anwender diesen bereitgestellten und in die Vielzahl von eigenen
        Anwendungen integrierten Service <a href="#r8">[8]</a>. Der kostenfreie Speicherplatz ist
        um einiges größer als der von Dropbox, nämlich 15GB. Neben den bereits erläuterten Standardfunktionen wie Synchronisation und Offline Bearbeitung gibt es
        zusätzlich beim Teilen die Möglichkeit die Rechte der Dritten zu definieren. Außerdem wird durch die Integration der anderen Google Dienste, wie
        beispielsweise Gmail, Google+ oder Picasa Webalben, das Speichern bestimmter Daten in der Cloud vereinfacht. So kann zum Beispiel ein Dokument im Anhang
        einer Email direkt in GoogleDrive abgelegt werden <a href="#r8">[8]</a>. Die Nutzung des Dienstes ist auch hier sowohl über den Browser, als auch über Clients für alle PC 
    	Betriebssysteme oder Apps für mobile Geräte möglich. 
    	</p>	
        <figure>
        <pre>
function createAndSendDocument() {
  // Create a new Google Doc named 'Hello, world!'
  var doc = DocumentApp.create('Hello, world!');

  // Access the body of the document, then add a paragraph.
  doc.getBody().appendParagraph('This document was created ');

  // Get the URL of the document.
  var url = doc.getUrl();

  // Get the email address of the active user - that's you.
  var email = Session.getActiveUser().getEmail();

  // Get the name of the document to use as an email subject line.
  var subject = doc.getName();

  // Append a new string to the "url" variable to use as an email.
  var body = 'Link to your doc: ' + url;

  // Send yourself an email with a link to the document.
  GmailApp.sendEmail(email, subject, body);
}
        </pre>
        <figcaption>
            <strong>Listing 1</strong>: Beispiel Google Script: Spreadsheet erstellen und Link per Mail senden <a href="#r7">[7]</a>
        
        </figcaption>
        </figure>
    </section>
    <section>
    	<h3>Auto Scaling</h3>
    	<p>
            5.4 Autoscaling
            One of the most important features of kubernetes is auto scaling. It monitors applications and services built with container technology without the help of human interaction. There are three autoscalers in the latest version of kubernetes. 
            Horizontal Pod Autoscaler (HPA) [1]  handles pod adjustments more dynamically and powerfully by monitoring resource consumption of the applications.
            Vertical Pod Autoscaler (VPA) [1] instantly changes the yaml specifications, such as pods minimum requirement and maintains the number of working pods. Therefore, it kills the existing pods and thus disrupts the state of the applications and services.
            Cluster Autoscaler (CA) [1] raises the number of nodes only when it is not possible to schedule pods on the existing nodes. Cluster Autoscaler only works on cloud platforms run by commercial company such as Google Cloud Platform [11] and Amazon Web Services [10]
            5.4.1 Horizontal Pod Autoscaling (HPA)
            In Kubernetes, HPA is a great tool that automatically increases or decreases the number of pods based on the overall computational and processing power of the application’s without affecting the current running pods (see Fig 1). HPA is a controlled loop implemented by the controller manager. In every 15 seconds (called a sync cycle), the kube controller manager compares the metrics (collected from either the resource metrics API or the custom metrics API) with the resource utilization [1].
            
            Figure 1: Architecture of Kubernetes HPA [1]
            
            The HPA controller operates according to the algorithm in equation 1
            
            desiredReplicas = currentReplicas * ( currentMetricValue / desiredMetricValue )    (1)
            
            where desiredReplicas is the number of pods after autoscaling on the other side currentReplicas defined as the number of pods which are currently running, currentMetricValue denoted as the latest collected metric value and finally, target threshold is defined as desiredMetricValue.
            Figure 5b: Metric Data of Demo-application
            
            Figure 5b shows the configuration and metrics of our Demo application. Where “MINPODS” and “MAXPODS” are the requirements for the kubernetes cluster which refer to the minimum and maximum number of pods. In the figure the minimum pods requirement for the cluster is 1 and maximum is 10. The kube controller manager continuously tracks this replica set number and compares it with the above requirements. For the scaling operation, CPU usages are going to be used as a metric. We set a 10% threshold for the CPU usages. Therefore, when the application reaches the 10% threshold, HPA will automatically increase the number of pods according to equation 1. 
            
            For example, according to the fig 5b if the current metric value is 40%  and the desired value is 10%, the number of replicas will be (1 x (0.40 / 0.10)) or 4. Therefore, the kube controller manager calls the kube api server to create 3 more pods. If the current metric value declines to 20% CPU usage, then the desired replicas will be (4 x (0.20/0.10)) or 8. Therefore, 4 more pods will be created. On 
          </p>            
    </section>
   
    
	<section class="references">
	   		<h2>6. Literaturverzeichnis</h2>
    		<p class="reference" id="r1">[1] Barth, Dave (2013, August 13). Google Cloud Storage now provides server-side encryption [Online]. Available: <a href="http://googlecloudplatform.blogspot.de/2013/08/google-cloud-storage-now-provides.html">http://googlecloudplatform.blogspot.de/2013/08/google-cloud-storage-now-provides.html</a> (28.06.2014)</p>
    		<p class="reference" id="r2">[2] BitTorrent Sync [Online]. Available: <a href="http://www.bittorentsync.com">http://www.bittorentsync.com</a> (29.06.2014)</p>
    		<p class="reference" id="r3">[3] Borgmann, Moritz et al. "On the Security of Cloud Storage". Fraunhofer Gesellschaft SIT. Darmstadt. SIT Technical Reports. SIT-TR-2012-001.  March 2012</p>
    		<p class="reference" id="r4">[4] Boxcryptor [Online]. Available: <a href="http://www.boxcrypotr.com">http://www.boxcryptor.com</a> (29.06.2014)</p>
    		<p class="reference" id="r5">[5] Connect.de. So Installieren Sie ownCloud auf einem Raspberry Pi [Online]. Available <a href="http://www.connect.de/ratgeber/so-installieren-sie-owncloud-auf-einem-raspberry-pi-1540246.html">http://www.connect.de/ratgeber/so-installieren-sie-owncloud-auf-einem-raspberry-pi-1540246.html</a> (29.06.2014)</p>
    		<p class="reference" id="r6">[6] Donauer, Jürgen  (2013, December 18). Die Cloud Alternative für Linux: Bittorrent Sync [Online]. Available: <a href="http://www.pcwelt.de/ratgeber/Die_Cloud_Alternative_fuer_Linux__Bittorrent_Sync-Datenaustausch_uebers_Internet-8345539.html">http://www.pcwelt.de/ratgeber/Die_Cloud_Alternative_fuer_Linux__Bittorrent_Sync-Datenaustausch_uebers_Internet-8345539.html</a> (29.06.2014)</p>
    		<p class="reference" id="r7">[7] Dropbox [Online]. Available: <a href="http://www.driobox.com">http://www.dropbox.com</a> (29.06.2014)</p>
    		<p class="reference" id="r8"> [8] Google Drive [Online]. Available: <a href="http://www.drive.google.com">http://drive.google.com</a> (29.06.2014)</p>
    		<p class="reference" id="r9"> [9] H., Muhamed (2014, January). Raspberry Pi - ownCloud installieren Anleitung [Online]. Available: <a href="http://linuxwelt.blogspot.de/2014/01/raspberry-pi-owncloud-installieren.html">http://linuxwelt.blogspot.de/2014/01/raspberry-pi-owncloud-installieren.html</a> (02.07.2014)</p>
    		<p class="reference" id="r10"> [10] ownCloud [Online]. Available: <a href="http://www.owncloud.org">http://www.owncloud.org</a> (01.07.2014)</p> 
    		<p class="reference" id="r11">[11] Simonite, Tom (2014, January 17). Sync Your Files without Trusting the Cloud [Online]. Available <a href="http://www.technologyreview.com/news/522516/sync-your-files-without-trusting-the-cloud/">http://www.technologyreview.com/news/522516/sync-your-files-without-trusting-the-cloud/</a> (29.06.2014)</p>
    		<p class="reference" id="r12">[12] Thoma, Jörg (2014, April 15). OwnCloud - Dropbox Alternative fürs Heimnetzwerk [Online]. Available <a href="http://www.golem.de/news/owncloud-dropbox-alternative-fuers-heimnetzwerk-1404-105843.html">http://www.golem.de/news/owncloud-dropbox-alternative-fuers-heimnetzwerk-1404-105843.html</a> (29.06.2014)</p>
    		<p class="reference" id="r13"> [13] eigene aufgesetzte ownCloud </p> 
	</section>
</body>
</html>
